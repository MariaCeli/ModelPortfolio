!function(t,e){var i={sliders:[],OPTIMIZATION_ACCEPTED:1,OPTIMIZATION_WAS_CONSTRAINED:2};function s(t,e){var i=this;this.image=new Image,this.loaded=!1,this.image.onload=function(){i.loaded=!0,e._onLoaded()},this.image.src=t.src,this.image.alt=t.alt||"",this.label=t.label||!1,this.credit=t.credit||!1}function n(t){if(t.naturalWidth&&t.naturalHeight)return{width:t.naturalWidth,height:t.naturalHeight};var e=new Image;return e.src=t.src,{width:e.width,height:e.height}}function r(t){return{width:n(t).width,height:n(t).height,aspect:function(){return this.width/this.height}}}function a(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function o(t,e){t.className=t.className.replace(/(\S+)\s*/g,(function(t,i){return i===e?"":t})).replace(/^\s+/,"")}function l(t){return e.getComputedStyle?{width:parseInt(getComputedStyle(t).width,10),height:parseInt(getComputedStyle(t).height,10)}:(w=t.getBoundingClientRect().right-t.getBoundingClientRect().left,h=t.getBoundingClientRect().bottom-t.getBoundingClientRect().top,{width:parseInt(w,10)||0,height:parseInt(h,10)||0})}function d(e,i){if("string"==typeof i||"number"==typeof i)leftPercent=parseInt(i,10);else{var s=e.getBoundingClientRect(),n={top:s.top+t.body.scrollTop+t.documentElement.scrollTop,left:s.left+t.body.scrollLeft+t.documentElement.scrollLeft},r=e.offsetWidth,a=(o=i).pageX?o.pageX:o.touches?o.touches[0].pageX:o.clientX+t.body.scrollLeft+t.documentElement.scrollLeft;leftPercent=(a-n.left)/r*100}var o;return leftPercent}function c(e,i){if("string"==typeof i||"number"==typeof i)topPercent=parseInt(i,10);else{var s=e.getBoundingClientRect(),n={top:s.top+t.body.scrollTop+t.documentElement.scrollTop,left:s.left+t.body.scrollLeft+t.documentElement.scrollLeft},r=e.offsetHeight,a=(o=i).pageY?o.pageY:o.touches?o.touches[0].pageY:o.clientY+t.body.scrollTop+t.documentElement.scrollTop;topPercent=(a-n.top)/r*100}var o;return topPercent}var p={animate:!0,showLabels:!0,showCredits:!0,makeResponsive:!0};function g(t,e,i){var n,r;for(n in this.selector=t,this.options={animate:!0,showLabels:!0,showCredits:!0,makeResponsive:!0,startingPosition:"50%",mode:"horizontal",callback:null},this.options)n in i&&(this.options[n]=n in p?"string"!=typeof(r=i[n])?Boolean(r):!("false"===r||""===r):i[n]);2==e.length?(this.imgBefore=new s(e[0],this),this.imgAfter=new s(e[1],this)):console.warn("The images parameter takes two Image objects."),this.imgBefore.credit||this.imgAfter.credit?this.options.showCredits=!0:this.options.showCredits=!1}g.prototype={updateSlider:function(t,e){var i,s;i=(i="vertical"===this.options.mode?c(this.slider,t):d(this.slider,t)).toFixed(2)+"%",leftPercentNum=parseFloat(i),s=100-leftPercentNum+"%",leftPercentNum>0&&leftPercentNum<100&&(o(this.handle,"transition"),o(this.rightImage,"transition"),o(this.leftImage,"transition"),this.options.animate&&e&&(a(this.handle,"transition"),a(this.leftImage,"transition"),a(this.rightImage,"transition")),"vertical"===this.options.mode?(this.handle.style.top=i,this.leftImage.style.height=i,this.rightImage.style.height=s):(this.handle.style.left=i,this.leftImage.style.width=i,this.rightImage.style.width=s),this.sliderPosition=i)},getPosition:function(){return this.sliderPosition},displayLabel:function(e,i){label=t.createElement("div"),label.className="jx-label",label.setAttribute("tabindex",0),function(e,i){t.body.textContent?e.textContent=i:e.innerText=i}(label,i),e.appendChild(label)},displayCredits:function(){credit=t.createElement("div"),credit.className="jx-credit",text="<em>Photo Credits:</em>",this.imgBefore.credit&&(text+=" <em>Before</em> "+this.imgBefore.credit),this.imgAfter.credit&&(text+=" <em>After</em> "+this.imgAfter.credit),credit.innerHTML=text,this.wrapper.appendChild(credit)},setStartingPosition:function(t){this.options.startingPosition=t},checkImages:function(){return r(this.imgBefore.image).aspect()==r(this.imgAfter.image).aspect()},calculateDims:function(t,e){var i=r(this.imgBefore.image).aspect();return t?e=t/i:e&&(t=e*i),{width:t,height:e,ratio:i}},responsivizeIframe:function(t){return t.height<e.innerHeight?t.ratio>=1&&(this.wrapper.style.paddingTop=parseInt((e.innerHeight-t.height)/2)+"px"):t.height>e.innerHeight&&(t=this.calculateDims(0,e.innerHeight),this.wrapper.style.paddingLeft=parseInt((e.innerWidth-t.width)/2)+"px"),this.options.showCredits&&(t.height-=13),t},setWrapperDimensions:function(){var t=l(this.wrapper).width,i=l(this.wrapper).height,s=this.calculateDims(t,i);e.location===e.parent.location||this.options.makeResponsive||(s=this.responsivizeIframe(s)),this.wrapper.style.height=parseInt(s.height)+"px",this.wrapper.style.width=parseInt(s.width)+"px"},optimizeWrapper:function(t){var e=i.OPTIMIZATION_ACCEPTED;return this.imgBefore.image.naturalWidth>=t&&this.imgAfter.image.naturalWidth>=t?(this.wrapper.style.width=t+"px",e=i.OPTIMIZATION_WAS_CONSTRAINED):this.imgAfter.image.naturalWidth<t?this.wrapper.style.width=this.imgAfter.image.naturalWidth+"px":this.wrapper.style.width=this.imgBefore.image.naturalWidth+"px",this.setWrapperDimensions(),e},_onLoaded:function(){this.imgBefore&&!0===this.imgBefore.loaded&&this.imgAfter&&!0===this.imgAfter.loaded&&(this.wrapper=t.querySelector(this.selector),a(this.wrapper,"before_after_slider"),this.wrapper.style.width=n(this.imgBefore.image).width,this.setWrapperDimensions(),this.slider=t.createElement("div"),this.slider.className="jx-slider",this.wrapper.appendChild(this.slider),"horizontal"!=this.options.mode&&a(this.slider,this.options.mode),this.handle=t.createElement("div"),this.handle.className="jx-handle",this.rightImage=t.createElement("div"),this.rightImage.className="jx-image jx-right",this.rightImage.appendChild(this.imgAfter.image),this.leftImage=t.createElement("div"),this.leftImage.className="jx-image jx-left",this.leftImage.appendChild(this.imgBefore.image),this.labCredit=t.createElement("a"),this.labCredit.setAttribute("href","#"),this.labCredit.setAttribute("target","_blank"),this.labCredit.setAttribute("rel","noopener"),this.slider.appendChild(this.handle),this.slider.appendChild(this.leftImage),this.slider.appendChild(this.rightImage),this.slider.appendChild(this.labCredit),this.control=t.createElement("div"),this.controller=t.createElement("div"),this.control.className="jx-control",this.controller.setAttribute("tabindex",0),this.controller.setAttribute("role","slider"),this.controller.setAttribute("aria-valuenow",50),this.controller.setAttribute("aria-valuemin",0),this.controller.setAttribute("aria-valuemax",100),this.leftSvg=t.createElement("div"),this.leftSvg.className="jx-arrow jx-left menu-svg-icon",this.leftSvg.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/></svg>',this.rightSvg=t.createElement("div"),this.rightSvg.className="jx-arrow jx-right menu-svg-icon",this.rightSvg.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/></svg>',this.upSvg=t.createElement("div"),this.upSvg.className="jx-arrow jx-left menu-svg-icon",this.upSvg.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M15.41 302.7l191.1-183.1C212 114.2 218 111.1 224 111.1s11.97 2.219 16.59 6.688l191.1 183.1c9.594 9.152 9.906 24.34 .7187 33.9c-9.125 9.625-24.38 9.938-33.91 .7187L224 169.2l-175.4 168c-9.5 9.219-24.78 8.906-33.91-.7187C5.502 327 5.814 311.8 15.41 302.7z"/></svg>',this.downSvg=t.createElement("div"),this.downSvg.className="jx-arrow jx-right menu-svg-icon",this.downSvg.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M432.6 209.3l-191.1 183.1C235.1 397.8 229.1 400 224 400s-11.97-2.219-16.59-6.688L15.41 209.3C5.814 200.2 5.502 184.1 14.69 175.4c9.125-9.625 24.38-9.938 33.91-.7187L224 342.8l175.4-168c9.5-9.219 24.78-8.906 33.91 .7187C442.5 184.1 442.2 200.2 432.6 209.3z"/></svg>',"horizontal"!=this.options.mode?(this.handle.appendChild(this.upSvg),this.handle.appendChild(this.control),this.handle.appendChild(this.downSvg)):(this.handle.appendChild(this.leftSvg),this.handle.appendChild(this.control),this.handle.appendChild(this.rightSvg)),this.control.appendChild(this.controller),this._init())},_init:function(){!1===this.checkImages()&&console.warn(this,"Check that the two images have the same aspect ratio for the slider to work correctly."),this.updateSlider(this.options.startingPosition,!1),!0===this.options.showLabels&&(this.imgBefore.label&&this.displayLabel(this.leftImage,this.imgBefore.label),this.imgAfter.label&&this.displayLabel(this.rightImage,this.imgAfter.label)),!0===this.options.showCredits&&this.displayCredits();var t=this;e.addEventListener("resize",(function(){t.setWrapperDimensions()})),this.slider.addEventListener("mousedown",(function(i){(i=i||e.event).preventDefault(),t.updateSlider(i,!0),animate=!0,this.addEventListener("mousemove",(function(i){(i=i||e.event).preventDefault(),animate&&t.updateSlider(i,!1)})),this.addEventListener("mouseup",(function(t){(t=t||e.event).preventDefault(),t.stopPropagation(),this.removeEventListener("mouseup",arguments.callee),animate=!1}))})),this.slider.addEventListener("touchstart",(function(i){(i=i||e.event).preventDefault(),i.stopPropagation(),t.updateSlider(i,!0),this.addEventListener("touchmove",(function(i){(i=i||e.event).preventDefault(),i.stopPropagation(),t.updateSlider(event,!1)}))})),this.handle.addEventListener("keydown",(function(i){var s=(i=i||e.event).which||i.keyCode,n=parseFloat(this.style.left);if(37==s){n-=1;var r=parseFloat(this.style.left)-1;t.updateSlider(r,!1),t.controller.setAttribute("aria-valuenow",n)}if(39==s){n+=1;var a=parseFloat(this.style.left)+1;t.updateSlider(a,!1),t.controller.setAttribute("aria-valuenow",n)}})),this.leftImage.addEventListener("keydown",(function(e){var i=e.which||e.keyCode;13!=i&&32!=i||(t.updateSlider("90%",!0),t.controller.setAttribute("aria-valuenow",90))})),this.rightImage.addEventListener("keydown",(function(e){var i=e.which||e.keyCode;13!=i&&32!=i||(t.updateSlider("10%",!0),t.controller.setAttribute("aria-valuenow",10))})),i.sliders.push(this),this.options.callback&&"function"==typeof this.options.callback&&this.options.callback(this)}},i.makeSlider=function(t,e){void 0===e&&(e=i.sliders.length);var s=t,n=s.querySelectorAll("img"),r={};s.getAttribute("data-animate")&&(r.animate=s.getAttribute("data-animate")),s.getAttribute("data-showlabels")&&(r.showLabels=s.getAttribute("data-showlabels")),s.getAttribute("data-showcredits")&&(r.showCredits=s.getAttribute("data-showcredits")),s.getAttribute("data-startingposition")&&(r.startingPosition=s.getAttribute("data-startingposition")),s.getAttribute("data-mode")&&(r.mode=s.getAttribute("data-mode")),s.getAttribute("data-makeresponsive")&&(r.mode=s.getAttribute("data-makeresponsive")),specificClass="before_after_slider-"+e,a(t,specificClass),selector="."+specificClass,s.innerHTML?s.innerHTML="":s.innerText="",slider=new i.JXSlider(selector,[{src:n[0].src,label:n[0].getAttribute("data-label"),credit:n[0].getAttribute("data-credit"),alt:n[0].alt},{src:n[1].src,label:n[1].getAttribute("data-label"),credit:n[1].getAttribute("data-credit"),alt:n[1].alt}],r)},i.scanPage=function(){for(var e=t.querySelectorAll(".js-before_after_slider"),s=0;s<e.length;s++){var n=e[s].querySelectorAll("img");if(void 0===n&&n.length<=0)return;i.makeSlider(e[s],s)}},i.JXSlider=g,e.before_after_slider=i}(document,window),!window.addEventListener&&function(t,e,i,s,n,r,a){t[s]=e[s]=i[s]=function(t,e){var i=this;a.unshift([i,t,e,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,e.call(i,t)}]),this.attachEvent("on"+t,a[0][3])},t[n]=e[n]=i[n]=function(t,e){for(var i,s=0;i=a[s];++s)if(i[0]==this&&i[1]==t&&i[2]==e)return this.detachEvent("on"+t,a.splice(s,1)[0][3])},t[r]=e[r]=i[r]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]);
